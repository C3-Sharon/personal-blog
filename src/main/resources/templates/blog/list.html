<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title th:text="${pageTitle} ?: '三碳化合物的博客'">三碳化合物的博客</title>
    <link rel="stylesheet" th:href="@{/css/style.css}">
</head>
<body>
<!-- 引用导航栏 -->
<div th:replace="~{fragments/common :: header}"></div>

<!-- 社交按钮区域（只在主页显示） -->
<div class="social-buttons" th:if="${isHomePage}">
    <a href="https://github.com/C3-Sharon" target="_blank" class="social-btn github">
        <span class="social-icon">GitHub</span>
    </a>
    <a href="https://space.bilibili.com/344479806" target="_blank" class="social-btn bilibili">
        <span class="social-icon">Bilibili</span>
    </a>
</div>

<!-- 主内容区 -->
<main class="main-content">
<h1>三碳化合物的博客</h1>

<!-- 判断是否有博客 -->
<div th:if="${blogs.isEmpty()}">
    <div class="no-blogs">
        <p>还没有博客文章...</p>
    </div>
</div>

<!-- 循环展示博客列表 -->
<div th:each="blog : ${blogs}" class="blog-card">
    <!-- 标题链接，点击进入详情页 -->
    <a th:href="@{/blog/{id}(id=${blog.id})}" class="blog-title" th:text="${blog.title}">
    </a>
    <!-- 发布时间 -->
    <div class="blog-meta" th:text="|发布时间:${#temporals.format(blog.createdAt, 'yyyy-MM-dd HH:mm')}|">
    </div>
    <!-- 内容摘要（取前100字） -->
    <div class="blog-summary" th:text="${#strings.abbreviate(blog.content, 100)}">
    </div>
    <!-- 在卡片底部添加管理按钮区域 -->
    <div class="admin-actions" th:if="${showAdminActions}">
        <a th:href="@{/admin/edit/{id}(id=${blog.id})}" class="edit-btn">编辑</a>
        <form th:action="@{/admin/delete/{id}(id=${blog.id})}" method="post" style="display: inline;" onsubmit="return confirm('确定删除吗？');">
            <button type="submit" class="delete-btn">删除</button>
        </form>
    </div>
    <div th:replace="~{fragments/common :: footer}"></div>
</div>
</body>
</html>