<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper
        PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
        "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.sharon.blog.mapper.ArtWorkMapper">
    <insert id="insert">
        insert into artwork(title,description,
                            file_path,file_type,
                            category,created_at,
                            updated_at)
        values (#{title},#{description},#{filePath},
                #{fileType},#{category},#{createdAt},#{createdAt})
    </insert>
    <update id="update">
        update artwork
        set title=#{title},
            description = #{description},
            file_path=#{filePath},
            file_type=#{fileType},
            category=#{category},
        updated_at=#{updatedAt}
        where id=#{id}

    </update>
<delete id="deleteById">
    delete from artwork where id=#{id}
</delete>
<select id="findByCategory" resultType="com.sharon.blog.pojo.ArtWork">
    select * from artwork where category=#{category}
    order by created_at desc
</select>
    <select id="selectPage" resultType="com.sharon.blog.pojo.ArtWork">
        select * from artwork where  category=#{category}
                              order by created_at desc
        limit #{offset},#{limit}
    </select>
    <select id="countByCategory" resultType="int">
        select count(*) from artwork where category=#{category}
    </select>
    <select id="findById" resultType="com.sharon.blog.pojo.ArtWork">
        select * from artwork where id = #{id}
    </select>
</mapper>    